# 02. 설정

### 서버 시작 종료

MySQL 서버에서는 실제 트랜잭션이 정상적으로 커밋돼도 데이터 파일에 변경된 내용이 기록되지 않고 로그 파일(리두 로그)에만 기록돼 있을 수 있다.  
사용량이 많은 MySQL 서버는 이런 현상이 더 일반적이다.  
MySQL 서버가 종료될 때 모든 커밋된 내용을 데이터 파일에 기록하고 종료하게 할 수도 있다.  
<br/>
```sql
-- MySql 서버가 종료될 때 모든 커밋된 내용을 데이터 파일에 기록하고 종료하게 함
SET GLOBAL Innodb_fast_shutdown=0;

-- 서버 셧다운
SHUTDOWN;
```
<br/>

모든 커밋된 데이터를 데이터 파일에 적용하고 종료하는 것을 클린 셧다운(Clean shutdown)이라고 표현한다.  
클린 셧다운으로 종료되면 다시 MySQL 서버가 가동할 때 별도의 트랜잭션 복고 과정을 진행하지 않기 때문에 빠르게 시작할 수 있다.  

MySQL 서버가 시작되거나 종료될 때는 MySQL 서버(InnoDB 스토리지 엔진)의 버퍼 풀 내용을 백헙하고 복구하는 과정이 내부적으로 실행된다.  
실제 버퍼 풀의 내용을 백업하는 것이 아닌, 버퍼 풀에 적재돼 있던 데이터 파일의 데이터 페이지에 대한 메터장보를 백업하기 때문에 용량이 크지 않으며, 백업 자체는 빠르게 완료된다.  
서버가 새로 시작될 때는 디스크에서 데이터 파일들을 모두 읽어서 적재해야 하므로 상당한 시간이 걸릴 수도 있다.  
<br/>
<br/>

### 서버 연결 테스트

MySQL접속을 시도하는 방법

```bash
# MySQL 소켓 파일을 이용해 접속하는 예
mysql -uroot -p --host=localhost --socket=/tmp/mysql.sock


```